# libivcmp

Библиотека для сравнения кривых ВАХ. 

## Инструкция для Linux

###1. Установка libcurl, cmake

Для сборки\установки под Linux понадобится CMake и CURL. Если они не установлены, смотрите инструкцию по установке в папке deps/linux

### 2. Сборка и установка

Обратите внимание, пользователь, который собирает библиотеку, должен быть владельцем каталога проекта (и всех подкаталогов\файлов)
Обратите внимание, на файловой системе, в которой лежит проект, должна быть возможность менять права доступа к файлам (это нужно, чтобы запустить build-скрипты для зависимых библиотек)

Для сборки удобно создать отдельную папку в папке проекта:
```
mkdir build
cd build
```

Теперь сгенерируем make-файлы в эту папку.
```
cmake ..
``` 

Соберём проект:
```
make
```

Готово. В папке build появится библиотека libivcmp.so и исполняемый файл ivcmpexample;


Запуск:
```
export LD_LIBRARY_PATH=/path/to/libivcmp
./ivcmpexample
```


## Инструкция для Windows:

Для сборки под Windows понадобятся CMake, MinGW (или msvc) и Redistributable Packages 2013. 

Под Windows для генерации файлов проектом удобно использовать CMake Gui https://cmake.org/download/

* В CMake Gui в поле "Where is the source code" указать полный путь до папки проекта md_asa_lib

* В CMake Gui в поле  "Where to build binaries" указать полный путь до каталога, куда положить сборку. Например, это может быть папка build в каталоге проекта

* В CMake Gui нажать кнопку "Configure". В новом окне программа предложит выбрать генератор проекта. Можно выбрать либо MinGW, либо Visual Studio

Далее, в зависимости от желаемого типа проекта:

*Для Visual Studio 2013*
* Выбрать Visual Studio 2013, нажать Finish. Важно выбирать именно Visual Studio 2013, а не, например, Visual Studio 2013 x64! Сборка работает корректно только для 32 бит 

* Нажать Generate, затем Open project

* Появится окно Visual Studio с проектом. Дальше собрать кнопкой Build, как обычный MSVC проект

* Готово. Можно запускать собранный пример ivcmpexample.exe; библиотека ivcmp.dll, ivcmp.lib рядом

*Для MinGW*

* Выбрать MinGW, нажать Finish

* Нажать кнопку Generate

* Открыть консоль, встать в директорию со сгенерированными файлами

* Выполнить сборку mingw:
    ```
    mingw32-make
    ```
(путь до mingw должен быть в системных путях)

Готово. Можно запускать пример ivcmpexample.exe; библиотеки ivcmp.dll, ivcmp.lib рядом (при сборке с MinGW - ivcmp.dll; статической библиотеки .lib нет)